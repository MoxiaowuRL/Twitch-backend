(this.webpackJsonptwith_frontend=this.webpackJsonptwith_frontend||[]).push([[0],{119:function(e,t){},124:function(e,t){},137:function(e,t,n){},215:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),s=n.n(c),i=(n(137),n(40)),o=n(44),l=n(43),u=n(217),d=n(127),j=n(218),h=n(219),m=n(47),b=n(223),f=n(119),O=n.n(f),p=n(222),g=n(220),x=n(221),y=n(225),S=n(226),C="",w=("".concat(C,"/login"),"".concat(C,"/register")),v=function(e){return fetch(w,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(200!==e.status)throw Error("Failed to register")}))},I="".concat(C,"/logout"),F=function(){return fetch(I,{method:"POST",credentials:"include"}).then((function(e){if(200!==e.status)throw Error("Fail to log out")}))},k="".concat(C,"/game"),_=function(){return fetch(k).then((function(e){if(200!==e.status)throw Error("Fail to get top games");return e.json()}))},M="".concat(C,"/game?game_name="),P="".concat(C,"/search?game_id="),E=function(e){return function(e){return fetch("".concat(M).concat(e)).then((function(e){if(200!==e.status)throw Error("Fail to find the game");return e.json()}))}(e).then((function(e){if(e&&e.id)return t=e.id,fetch("".concat(P).concat(t)).then((function(e){if(200!==e.status)throw Error("Fail to find the game");return e.json()}));var t;throw Error("Fail to find the game")}))},T="".concat(C,"/favorite"),D=function(){return fetch(T,{credentials:"include"}).then((function(e){if(200!==e.status)throw Error("Fail to get favorite item");return e.json()}))},R=("".concat(C,"/recommendation"),n(6)),L=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={displayModal:!1},e.handleCancel=function(){e.setState({displayModal:!1})},e.signupOnClick=function(){e.setState({displayModal:!0})},e.onFinish=function(t){v(t).then((function(){e.setState({displayModal:!1}),d.b.success("Successfully signed up")})).catch((function(e){d.b.error(e.message)}))},e.render=function(){return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(m.a,{shape:"round",type:"primary",onClick:e.signupOnClick,children:"Register"}),Object(R.jsx)(p.a,{title:"Register",visible:e.state.displayModal,onCancel:e.handleCancel,footer:null,destroyOnClose:!0,children:Object(R.jsxs)(g.a,{name:"normal_register",initialValues:{remember:!0},onFinish:e.onFinish,preserve:!1,children:[Object(R.jsx)(g.a.Item,{name:"user_id",rules:[{required:!0,message:"Please input your Username!"}],children:Object(R.jsx)(x.a,{prefix:Object(R.jsx)(y.a,{}),placeholder:"Username"})}),Object(R.jsx)(g.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(R.jsx)(x.a,{prefix:Object(R.jsx)(S.a,{}),placeholder:"Password"})}),Object(R.jsx)(g.a.Item,{name:"first_name",rules:[{required:!0,message:"Please input your Firstname!"}],children:Object(R.jsx)(x.a,{placeholder:"firstname"})}),Object(R.jsx)(g.a.Item,{name:"last_name",rules:[{required:!0,message:"Please input your Lastname!"}],children:Object(R.jsx)(x.a,{placeholder:"lastname"})}),Object(R.jsx)(g.a.Item,{children:Object(R.jsx)(m.a,{type:"primary",htmlType:"submit",children:"Register"})})]})})]})},e}return n}(r.a.Component),A=n(224),G=n(227),q=n(131),V=n(228),N=n(229),J=b.a.SubMenu,B="streams",U="videos",H="clips",K=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={displayDrawer:!1,data:{VIDEO:[],STREAM:[],CLIP:[]}},e.onDrawerClose=function(){e.setState({displayDrawer:!1})},e.onFavoriteClick=function(){D().then((function(t){e.setState({data:t,displayDrawer:!0})})).catch((function(e){d.b.error(e.message)}))},e.render=function(){var t=e.state.data,n=t.VIDEO,a=t.STREAM,r=t.CLIP;return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(m.a,{type:"primary",shape:"round",onClick:e.onFavoriteClick,icon:Object(R.jsx)(G.a,{}),children:"My Favorites"}),Object(R.jsx)(A.a,{title:"My Favorites",placement:"right",width:720,visible:e.state.displayDrawer,onClose:e.onDrawerClose,children:Object(R.jsxs)(b.a,{mode:"inline",defaultOpenKeys:[B],style:{height:"100%",borderRight:0},selectable:!1,children:[Object(R.jsx)(J,{icon:Object(R.jsx)(q.a,{}),title:"Streams",children:a.map((function(e){return Object(R.jsx)(b.a.Item,{children:Object(R.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:"".concat(e.broadcaster_name," - ").concat(e.title)})},e.id)}))},B),Object(R.jsx)(J,{icon:Object(R.jsx)(V.a,{}),title:"Videos",children:n.map((function(e){return Object(R.jsx)(b.a.Item,{children:Object(R.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:"".concat(e.broadcaster_name," - ").concat(e.title)})},e.id)}))},U),Object(R.jsx)(J,{icon:Object(R.jsx)(N.a,{}),title:"Clips",children:r.map((function(e){return Object(R.jsx)(b.a.Item,{children:Object(R.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:"".concat(e.broadcaster_name," - ").concat(e.title)})},e.id)}))},H)]})})]})},e}return n}(r.a.Component),z=n(230),Q=n(231),W=n(130),X=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={displayModal:!1},e.handleCancel=function(){e.setState({displayModal:!1})},e.searchOnClick=function(){e.setState({displayModal:!0})},e.onSubmit=function(e){E(e.game_name).then((function(e){console.log(e)})).catch((function(e){d.b.error(e.message)}))},e.render=function(){return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(m.a,{shape:"round",onClick:e.searchOnClick,icon:Object(R.jsx)(W.a,{}),style:{marginLeft:"20px",marginTop:"20px"},children:"Custom Search"}),Object(R.jsx)(p.a,{title:"Custom Search",visible:e.state.displayModal,onCancel:e.handleCancel,footer:null,children:Object(R.jsxs)(g.a,{name:"custom_search",onFinish:e.onSubmit,children:[Object(R.jsx)(g.a.Item,{name:"game_name",rules:[{required:!0,message:"Please enter a game name"}],children:Object(R.jsx)(x.a,{placeholder:"Game name"})}),Object(R.jsx)(g.a.Item,{children:Object(R.jsx)(m.a,{type:"primary",htmlType:"submit",children:"Search"})})]})})]})},e}return n}(r.a.Component),Y=n(125),Z=n.n(Y),$=n(124),ee=n.n($),te=u.a.Header,ne=u.a.Content,ae=u.a.Sider,re=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={loggedIn:!1,topGames:[],resources:{VIDEO:[],STREAM:[],CLIP:[]}},e.customSearchOnSuccess=function(t){e.setState({resources:t})},e.signinOnSuccess=function(){e.setState({loggedIn:!0})},e.signoutOnClick=function(){F().then((function(){e.setState({loggedIn:!1}),d.b.success("Successfull signed out")})).catch((function(e){d.b.error(e.message)}))},e.componentDidMount=function(){_().then((function(t){e.setState({topGames:t})})).catch((function(e){d.b.error(e.message)}))},e.render=function(){return Object(R.jsxs)(u.a,{children:[Object(R.jsx)(te,{children:Object(R.jsxs)(j.a,{justify:"space-between",children:[Object(R.jsx)(h.a,{children:e.state.loggedIn&&Object(R.jsx)(K,{})}),Object(R.jsx)(h.a,{children:e.state.loggedIn?Object(R.jsx)(m.a,{shape:"round",onClick:e.signoutOnClick,children:"Logout"}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(O.a,{onSuccess:e.signinOnSuccess}),Object(R.jsx)(L,{})]})})]})}),Object(R.jsxs)(u.a,{children:[Object(R.jsxs)(ae,{width:300,className:"site-layout-background",children:[Object(R.jsx)(X,{onSuccess:e.customSearchOnSuccess}),Object(R.jsxs)(b.a,{mode:"inline",onSelect:function(){},style:{marginTop:"10px"},children:[Object(R.jsx)(b.a.Item,{icon:Object(R.jsx)(z.a,{}),children:"Recommend for you!"},"Recommendation"),Object(R.jsx)(Z.a,{icon:Object(R.jsx)(Q.a,{}),title:"Popular Games",className:"site-top-game-list",children:e.state.topGames.map((function(e){return Object(R.jsxs)(b.a.Item,{style:{height:"50px"},children:[Object(R.jsx)("img",{alt:"Placeholder",src:e.box_art_url.replace("{height}","40").replace("{width}","40"),style:{borderRadius:"50%",marginRight:"20px"}}),Object(R.jsx)("span",{children:e.name})]},e.id)}))},"Popular Games")]})]}),Object(R.jsx)(u.a,{style:{padding:"24px"},children:Object(R.jsx)(ne,{className:"site-layout-background",style:{padding:24,margin:0,height:800,overflow:"auto"},children:Object(R.jsx)(ee.a,{resources:e.state.resources,loggedIn:e.state.loggedIn})})})]})]})},e}return n}(r.a.Component),ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,232)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsx)(re,{})}),document.getElementById("root")),ce()}},[[215,1,2]]]);
//# sourceMappingURL=main.87c42c3b.chunk.js.map